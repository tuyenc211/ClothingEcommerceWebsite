UseCase ID
QLDH01
Mô tả
Cho phép người dùng (Admin, Nhân viên, Khách hàng) xem danh sách đơn hàng của mình hoặc tất cả đơn hàng tùy theo quyền hạn.
Tác nhân (Actor)
Admin, Nhân viên: Xem tất cả đơn hàng trong hệ thống.
Khách hàng: Chỉ xem đơn hàng của chính mình.
Sự ưu tiên (Priority)
Cao (High)
Trigger
Khách hàng chọn menu "Đơn hàng" còn Admin chọn "Quản lý đơn hàng".
Điều kiện cần (Pre-condition)
Người dùng đã đăng nhập hệ thống.
Có dữ liệu đơn hàng trong hệ thống.
Điều kiện sau (Post-condition)
Hệ thống hiển thị danh sách đơn hàng kèm thông tin cơ bản.
Người dùng có thể thao tác tiếp như: xem chi tiết, hủy đơn (nếu được phép).
Luồng cơ bản (Basic flow)
Người dùng truy cập chức năng Xem danh sách đơn hàng.
Hệ thống truy vấn cơ sở dữ liệu và lấy danh sách đơn hàng phù hợp với quyền của người dùng.
Hệ thống hiển thị danh sách đơn hàng gồm:
Mã đơn hàng.
Ngày đặt hàng.
Trạng thái đơn hàng.
Tổng giá trị đơn hàng.
Phương thức thanh toán.
Luồng thay thế (Alternative flow)
A1 – Không có đơn hàng:
Hệ thống hiển thị thông báo “Không tìm thấy đơn hàng nào”.
Luồng ngoại lệ (Exception flow)
  E1 – Lỗi kết nối cơ sở dữ liệu:
Hiển thị thông báo “Không thể tải danh sách đơn hàng, vui lòng thử lại”.
  E2 – Phiên đăng nhập hết hạn:
Chuyển hướng đến trang đăng nhập kèm thông báo.
Ràng buộc (Business rules)
  Admin/Nhân viên có thể xem tất cả đơn hàng.
  Khách hàng chỉ được xem đơn hàng của chính mình.
  Danh sách đơn hàng được sắp xếp mặc định theo ngày đặt hàng mới nhất.
Yêu cầu phi chức năng (Non-functional requirement)
Hiệu năng:
Tải danh sách ≤ 2 giây cho dưới 500 đơn hàng.
Bảo mật:
Kiểm tra quyền truy cập trước khi hiển thị dữ liệu.
Trải nghiệm người dùng:
Có chức năng, phân trang.
Giao diện dễ đọc, rõ ràng.

Sơ đồ hoạt động của Xem danh sách đơn hàng
[Sơ đồ hoạt động chi tiết của chức năng]
Giao diện dự kiến của Xem danh sách đơn hàng
[Mô tả giao diện dự kiến, dạng mockup kèm theo các mô tả chi tiết.]
Xem chi tiết trạng thái đơn hàng
Đặc tả usecase cho Xem chi tiết trạng thái đơn hàng
UseCase ID
QLDH02
Mô tả
Cho phép người dùng (Admin, Nhân viên, Khách hàng) xem thông tin chi tiết và trạng thái xử lý của một đơn hàng cụ thể.
Tác nhân (Actor)
Admin, Nhân viên: Xem chi tiết tất cả đơn hàng.
Khách hàng: Chỉ xem chi tiết đơn hàng của chính mình.
Sự ưu tiên (Priority)
Cao (High)
Trigger
Người dùng chọn một đơn hàng từ danh sách đơn hàng.
Điều kiện cần (Pre-condition)
Người dùng đã đăng nhập hệ thống.
Có ít nhất một đơn hàng tồn tại trong hệ thống.
Người dùng có quyền xem đơn hàng được chọn.
Điều kiện sau (Post-condition)
Hệ thống hiển thị đầy đủ thông tin chi tiết của đơn hàng.
Người dùng có thể thực hiện các thao tác tiếp theo như hủy đơn (nếu được phép)
Luồng cơ bản (Basic flow)
  Người dùng chọn một đơn hàng từ danh sách đơn hàng.
  Hệ thống kiểm tra quyền truy cập vào đơn hàng.
  Hệ thống truy vấn cơ sở dữ liệu và lấy thông tin chi tiết gồm:
Mã đơn hàng.
Danh sách sản phẩm (tên, số lượng, đơn giá).
Tổng tiền, giảm giá, phí vận chuyển.
Địa chỉ giao hàng.
Phương thức thanh toán.
Lịch sử trạng thái (ví dụ: Đang xử lý → Đang giao → Hoàn thành).
  Hệ thống hiển thị thông tin cho người dùng.
Luồng thay thế (Alternative flow)
A1 – Không tìm thấy đơn hàng:
Hiển thị thông báo “Đơn hàng không tồn tại hoặc đã bị xóa”.
Luồng ngoại lệ (Exception flow)
  E1 – Lỗi kết nối cơ sở dữ liệu:
Hiển thị thông báo “Không thể tải chi tiết đơn hàng, vui lòng thử lại sau”.
  E2 – Phiên đăng nhập hết hạn:
Chuyển hướng đến trang đăng nhập kèm thông báo.
Ràng buộc (Business rules)
  Khách hàng chỉ xem được đơn hàng của chính mình.
  Admin/Nhân viên xem được tất cả đơn hàng.
  Lịch sử trạng thái phải được lưu đầy đủ.
Yêu cầu phi chức năng (Non-functional requirement)
  Hiệu năng:
Thời gian tải chi tiết đơn hàng ≤ 2 giây.
  Bảo mật:
Kiểm tra quyền truy cập trước khi hiển thị dữ liệu.
  Trải nghiệm người dùng:
Giao diện hiển thị rõ ràng, có phân nhóm thông tin (thông tin đơn hàng, thông tin khách hàng, trạng thái).

Sơ đồ hoạt động của Xem chi tiết trạng thái đơn hàng
[Sơ đồ hoạt động chi tiết của chức năng]
Giao diện dự kiến của Xem chi tiết trạng thái đơn hàng
[Mô tả giao diện dự kiến, dạng mockup kèm theo các mô tả chi tiết.]
Hủy đơn hàng
Đặc tả usecase cho Hủy đơn hàng
UseCase ID
QLDH03
Mô tả
Cho phép khách hàng hủy đơn hàng của mình trước khi đơn hàng được chuyển sang trạng thái Đang giao hoặc Hoàn thành.
Tác nhân (Actor)
Khách hàng: Hủy đơn hàng của chính mình.
Admin/Nhân viên: Có thể hủy đơn hàng thay cho khách hàng (trong trường hợp đặc biệt).
Sự ưu tiên (Priority)
Cao (High)
Trigger
Người dùng nhấn nút "Hủy đơn hàng" khi xem chi tiết đơn hàng.
Admin/Nhân viên chọn "Cancelled" từ dropdown  menu.
Điều kiện cần (Pre-condition)
Người dùng đã đăng nhập hệ thống.
Đơn hàng đang ở trạng thái cho phép hủy (Chờ xử lý hoặc Đang xử lý).
Người dùng có quyền hủy đơn hàng đó.
Điều kiện sau (Post-condition)
Đơn hàng được cập nhật trạng thái thành Đã hủy.
Kho hàng được cập nhật lại số lượng sản phẩm.
Nếu thanh toán trước → tiến hành quy trình hoàn tiền.
Luồng cơ bản (Basic flow)
Trường hợp 1: Người dùng truy cập chi tiết đơn hàng.
  Hệ thống kiểm tra trạng thái đơn hàng:
Nếu cho phép hủy → hiển thị nút "Hủy đơn hàng".
  Người dùng nhấn "Hủy đơn hàng".
  Hệ thống hiển thị hộp thoại yêu cầu xác nhận.
  Người dùng xác nhận.
  Hệ thống:
Cập nhật trạng thái đơn hàng thành Đã hủy.
Lưu thông tin người hủy.
Cập nhật kho hàng (nếu cần).
  Hệ thống hiển thị thông báo thành công.

Trường hợp 2: Admin/Nhân viên xác định đơn hàng cần hủy
Chọn "Cancelled" từ dropdown ACTION hoặc nhấn "Cancel Order"
Admin xác nhận hủy đơn
Hệ thống thực hiện:
Cập nhật trạng thái thành "Cancelled”
Luồng thay thế (Alternative flow)
A1 – Người dùng hủy thao tác:
Chọn “Hủy” tại hộp thoại xác nhận → giữ nguyên trạng thái đơn hàng.
Luồng ngoại lệ (Exception flow)
  E1 – Đơn hàng đã ở trạng thái không cho phép hủy:
Hiển thị thông báo “Đơn hàng đang giao hoặc đã hoàn thành, không thể hủy”.
  E2 – Lỗi cập nhật trạng thái đơn hàng:
Hiển thị thông báo “Không thể hủy đơn hàng, vui lòng thử lại sau”.
  E3 – Phiên đăng nhập hết hạn:
Chuyển hướng đến trang đăng nhập.
Ràng buộc (Business rules)
Chỉ đơn hàng ở trạng thái Chờ xử lý hoặc Đang xử lý mới được hủy.
Khi hủy đơn hàng đã thanh toán online → phải kích hoạt quy trình hoàn tiền.
Yêu cầu phi chức năng (Non-functional requirement)
  Bảo mật:
Chỉ cho phép người tạo đơn hoặc Admin/Nhân viên được quyền hủy.
  Hiệu năng:
Cập nhật trạng thái hủy trong ≤ 2 giây.
  Trải nghiệm người dùng:
Hiển thị thông báo rõ ràng về kết quả hủy.
Hộp thoại xác nhận giúp tránh thao tác nhầm.

Sơ đồ hoạt động của Hủy đơn hàng
[Sơ đồ hoạt động chi tiết của chức năng]
Giao diện dự kiến của Hủy đơn hàng
[Mô tả giao diện dự kiến, dạng mockup kèm theo các mô tả chi tiết.]
Cập nhật trạng thái đơn hàng
Đặc tả usecase cho Cập nhật trạng thái đơn hàng
UseCase ID
QLDH04
Mô tả
Cho phép Admin/Nhân viên cập nhật trạng thái đơn hàng trực tiếp từ dropdown menu trong danh sách đơn hàng.
Tác nhân (Actor)
Admin/Nhân viên
Sự ưu tiên (Priority)
Cao (High)
Trigger
Admin/Nhân viên nhấn vào dropdown "ACTION" và chọn trạng thái mới
Điều kiện cần (Pre-condition)
Người dùng đã đăng nhập với quyền Admin hoặc Nhân viên.
Đơn hàng tồn tại trong hệ thống.
Trạng thái hiện tại cho phép cập nhật sang trạng thái mới (theo quy trình kinh doanh).
Điều kiện sau (Post-condition)
Trạng thái đơn hàng được cập nhật thành công.
Luồng cơ bản (Basic flow)
Admin/Nhân viên mở danh sách đơn hàng
Tìm đơn hàng cần cập nhật trạng thái
Nhấn vào dropdown menu ở cột "ACTION"
Hệ thống hiển thị danh sách trạng thái có thể chuyển đổi:
Pending (Chờ xử lý)
Processing (Đang xử lý)
Delivered (Đã giao)
Cancelled (Đã hủy)
Admin/Nhân viên chọn trạng thái mới
  Xác nhận cập nhật.
  Hệ thống cập nhật trạng thái đơn hàng trong cơ sở dữ liệu.
  Hiển thị thông báo “Cập nhật thành công”.
Luồng thay thế (Alternative flow)
A1 – Người dùng hủy thao tác:
Chọn "Hủy" tại hộp thoại xác nhận → Không thay đổi trạng thái.
Luồng ngoại lệ (Exception flow)
  E1 – Trạng thái không hợp lệ:
Hiển thị thông báo “Không thể chuyển từ trạng thái hiện tại sang trạng thái này”.
  E2 – Lỗi kết nối cơ sở dữ liệu:
Hiển thị thông báo “Không thể cập nhật trạng thái, vui lòng thử lại”.
  E3 – Phiên đăng nhập hết hạn:
Chuyển hướng đến trang đăng nhập.
Ràng buộc (Business rules)
  Chỉ Admin/Nhân viên mới có quyền cập nhật trạng thái.
  Quy tắc chuyển trạng thái phải tuân theo luồng xử lý đơn hàng đã định sẵn (VD: không thể chuyển từ “Hoàn thành” về “Đang giao”).
Yêu cầu phi chức năng (Non-functional requirement)
  Bảo mật:
Xác thực quyền trước khi cập nhật.
  Hiệu năng:
Thời gian cập nhật trạng thái ≤ 2 giây.
  Trải nghiệm người dùng:
Hiển thị danh sách trạng thái hợp lệ và thông báo rõ ràng.

